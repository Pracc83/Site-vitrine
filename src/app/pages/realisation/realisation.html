<!-- Page de réalisation -->
<div class="min-h-screen bg-white dark:bg-gray-900 flex flex-col">
  <!-- Header -->
  <app-header [brandInfo]="brandInfo" (tabChange)="onTabChange($event)" (scrollTo)="onScrollTo($event)">
  </app-header>

  <main role="main" class="flex-1">

    <!-- Loading state -->
    <div *ngIf="loading" class="flex items-center justify-center min-h-96" role="status" aria-live="polite">
      <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600" aria-hidden="true"></div>
      <span class="sr-only">Chargement de la réalisation en cours...</span>
    </div>


    <!-- Contenu de la réalisation -->
    <article *ngIf="!loading && realisation" class="max-w-7xl mx-auto px-4 md:px-6">
      <!-- Bouton retour -->
      <div class=" py-6">
        <button (click)="goBack()"
          class="flex items-center gap-2 text-emerald-600 hover:text-emerald-700 transition-colors focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 rounded-md px-2 py-1"
          aria-label="Retourner à la liste des réalisations">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
          </svg>
          Retour aux réalisations
        </button>
      </div>
      <section class="my-12" aria-label="Navigation entre projets">


        <div class="flex justify-between items-center gap-6">
          <!-- Projet précédent -->
          <div *ngIf="previousRealisation" class="flex-1">
            <button (click)="goToPreviousRealisation()"
              class="group flex items-center gap-4 p-4 bg-gray-50 hover:bg-emerald-50 rounded-xl transition-colors w-full text-left focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2"
              aria-label="Voir le projet précédent">
              <div class="flex-shrink-0">
                <svg class="w-6 h-6 text-emerald-600 group-hover:text-emerald-700 transition-colors" fill="none"
                  stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                </svg>
              </div>
              <div class="min-w-0 flex-1">
                <p class="text-sm text-gray-500 group-hover:text-emerald-600 transition-colors">Précédent</p>
                <p class="font-medium text-gray-900 group-hover:text-emerald-800 transition-colors truncate">{{
                  previousRealisation.title }}</p>
              </div>
            </button>
          </div>

          <!-- Espaceur si pas de projet précédent -->
          <div *ngIf="!previousRealisation" class="flex-1"></div>

          <!-- Projet suivant -->
          <div *ngIf="nextRealisation" class="flex-1">
            <button (click)="goToNextRealisation()"
              class="group flex items-center gap-4 p-4 bg-gray-50 hover:bg-emerald-50 rounded-xl transition-colors w-full text-right focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2"
              aria-label="Voir le projet suivant">
              <div class="min-w-0 flex-1">
                <p class="text-sm text-gray-500 group-hover:text-emerald-600 transition-colors">Suivant</p>
                <p class="font-medium text-gray-900 group-hover:text-emerald-800 transition-colors truncate">{{
                  nextRealisation.title }}</p>
              </div>
              <div class="flex-shrink-0">
                <svg class="w-6 h-6 text-emerald-600 group-hover:text-emerald-700 transition-colors" fill="none"
                  stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                </svg>
              </div>
            </button>
          </div>
        </div>
      </section>
      <!-- Image d'entête -->
      <div class="relative h-96 md:h-[500px] rounded-2xl overflow-hidden mb-12">
        <img [src]="realisation.heroImage" [alt]="'Image principale du projet ' + realisation.title"
          class="w-full h-full object-cover" loading="eager" role="img">
        <div class="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent" aria-hidden="true"></div>
        <div class="absolute bottom-6 left-6 text-white">
          <h1 class="text-3xl md:text-5xl font-bold mb-2">{{ realisation.title }}</h1>
          <p class="text-lg opacity-90">{{ realisation.subtitle }}</p>
        </div>
      </div>

      <!-- Informations de la réalisation -->
      <div class="grid md:grid-cols-3 gap-8 mb-12">
        <div class="md:col-span-2">
          <h2 class="text-2xl font-semibold mb-4">À propos de ce projet</h2>
          <p class="text-gray-700 leading-relaxed mb-6">{{ realisation.description }}</p>

          <h3 class="text-xl font-semibold mb-4">Caractéristiques du projet</h3>
          <ul class="list-disc pl-6 space-y-2 text-gray-700" role="list" aria-label="Caractéristiques du projet">
            <li *ngFor="let feature of realisation.features" role="listitem">{{ feature }}</li>
          </ul>
        </div>

        <aside class="space-y-6" role="complementary" aria-label="Informations complémentaires">
          <div class="bg-gray-50 rounded-xl p-6">
            <h3 class="font-semibold text-lg mb-4">Détails du projet</h3>
            <dl class="space-y-3 text-sm">
              <div class="flex justify-between">
                <dt class="text-gray-600">Client :</dt>
                <dd class="font-medium">{{ realisation.client }}</dd>
              </div>
              <div class="flex justify-between">
                <dt class="text-gray-600">Lieu :</dt>
                <dd class="font-medium">{{ realisation.location }}</dd>
              </div>
              <div class="flex justify-between">
                <dt class="text-gray-600">Année :</dt>
                <dd class="font-medium">{{ realisation.year }}</dd>
              </div>
              <div class="flex justify-between">
                <dt class="text-gray-600">Catégorie :</dt>
                <dd class="font-medium">{{ realisation.category }}</dd>
              </div>
            </dl>
          </div>

          <div class="bg-emerald-50 rounded-xl p-6">
            <h3 class="font-semibold text-lg mb-4">Intéressé par un projet similaire ?</h3>
            <p class="text-sm text-gray-700 mb-4">Contactez-nous pour discuter de votre projet paysager.</p>
            <button
              class="w-full bg-emerald-600 text-white px-4 py-2 rounded-lg hover:bg-emerald-700 transition-colors focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2"
              aria-label="Demander un devis pour un projet similaire">
              Demander un devis
            </button>
          </div>
        </aside>
      </div>

      <!-- Galerie photos -->
      <section class="mb-12" aria-labelledby="gallery-heading">
        <h2 id="gallery-heading" class="text-2xl font-semibold mb-6">Galerie photos</h2>
        <app-gallery [images]="realisation.gallery"></app-gallery>
      </section>

      <!-- Navigation entre réalisations -->
      <section class="mb-12" aria-label="Navigation entre projets">
        <div class="flex justify-between items-center gap-6">
          <!-- Projet précédent -->
          <div *ngIf="previousRealisation" class="flex-1">
            <button (click)="goToPreviousRealisation()"
              class="group flex items-center gap-4 p-4 bg-gray-50 hover:bg-emerald-50 rounded-xl transition-colors w-full text-left focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2"
              aria-label="Voir le projet précédent">
              <div class="flex-shrink-0">
                <svg class="w-6 h-6 text-emerald-600 group-hover:text-emerald-700 transition-colors" fill="none"
                  stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                </svg>
              </div>
              <div class="min-w-0 flex-1">
                <p class="text-sm text-gray-500 group-hover:text-emerald-600 transition-colors">Précédent</p>
                <p class="font-medium text-gray-900 group-hover:text-emerald-800 transition-colors truncate">{{
                  previousRealisation.title }}</p>
              </div>
            </button>
          </div>

          <!-- Espaceur si pas de projet précédent -->
          <div *ngIf="!previousRealisation" class="flex-1"></div>

          <!-- Projet suivant -->
          <div *ngIf="nextRealisation" class="flex-1">
            <button (click)="goToNextRealisation()"
              class="group flex items-center gap-4 p-4 bg-gray-50 hover:bg-emerald-50 rounded-xl transition-colors w-full text-right focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2"
              aria-label="Voir le projet suivant">
              <div class="min-w-0 flex-1">
                <p class="text-sm text-gray-500 group-hover:text-emerald-600 transition-colors">Suivant</p>
                <p class="font-medium text-gray-900 group-hover:text-emerald-800 transition-colors truncate">{{
                  nextRealisation.title }}</p>
              </div>
              <div class="flex-shrink-0">
                <svg class="w-6 h-6 text-emerald-600 group-hover:text-emerald-700 transition-colors" fill="none"
                  stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                </svg>
              </div>
            </button>
          </div>
        </div>
      </section>
    </article>
  </main>

  <!-- Footer -->
  <app-footer [brandInfo]="brandInfo" [contactInfo]="contactInfo" (tabChange)="onTabChange($event)">
  </app-footer>
</div>